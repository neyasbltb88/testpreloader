function init_preloader(e,o){if(loader_wrap.style.display=loader_wrap_original_display,animation_classes.length>0)for(var a=0;a<animation_classes.length;a++)loader_wrap.classList.add(animation_classes[a]);post_loader_transition_class&&content_wrap.classList.add(post_loader_transition_class),setTimeout(function(){document.body.classList.add("loader")},10),loader_square&&(preloader_resize(),window.addEventListener("optimizedResize",preloader_resize)),setTimeout(function(){document.body.classList.add("dont_scroll"),document.body.classList.remove("content"),"function"==typeof e?e():"function"==typeof o&&o()},loader_fade_time)}function remove_preloader(e,o){loader_square&&window.removeEventListener("optimizedResize",preloader_resize),loader_wrap&&content_wrap&&(document.body.classList.remove("loader"),document.body.classList.remove("dont_scroll"),document.body.classList.add("content"),post_loader_transition_class&&content_wrap.classList.remove(post_loader_transition_class),setTimeout(function(){if(loader_wrap.style.display="none",animation_classes.length>0)for(var a=0;a<animation_classes.length;a++)loader_wrap.classList.remove(animation_classes[a]);"function"==typeof e?e():"function"==typeof o&&o()},loader_fade_time))}function init_optimizedResize(){!function(e,o,a){var t=!1;(a=a||window).addEventListener(e,function(){t||(t=!0,requestAnimationFrame(function(){a.dispatchEvent(new CustomEvent(o)),t=!1}))})}("resize","optimizedResize")}function init_loader_demo(){loader_demo?(loader_demo=!1,console.log("Демо-режим прелоадера включен. Для отключения вызовите remove_loader_demo()"),loader_demo_interval=setInterval(function(){loader_wrap.style.display==loader_wrap_original_display?remove_preloader(test_callback_add):init_preloader(test_callback_remove)},loader_time_demo)):console.log("Демо-режим уже был включен ранее")}function remove_loader_demo(){loader_demo?console.log("Демо-режим уже был выключен ранее"):(loader_demo=!0,console.log("Демо-режим прелоадера отключен. Для включения вызовите init_loader_demo()"),clearInterval(loader_demo_interval))}function test_callback_add(){content_wrap.classList.add("loader_hideen")}function test_callback_remove(){content_wrap.classList.remove("loader_hideen")}function preloader_resize(){window.innerWidth;var e=getComputedStyle(loader).width;loader.style.height=e}var loader_demo=!1,loader_square=!0,loader_fade_time=500,loader_time_demo=3500,animation_classes=["loader_animation"],post_loader_transition_class="blur",loader_wrap=document.querySelector("#loader_wrap"),loader=document.querySelector(".loader"),content_wrap=document.querySelector("#content_wrap"),loader_wrap_original_display=getComputedStyle(loader_wrap).display;content_wrap.style.transition="all "+loader_fade_time/1e3+"s",loader_wrap.style.transition="opacity "+loader_fade_time/1e3+"s";var loader_demo_interval;loader_square?(init_optimizedResize(),init_preloader()):init_preloader(),init_loader_demo(),content_wrap.addEventListener("click",init_preloader),content_wrap.style.cursor="pointer",loader.addEventListener("click",remove_preloader),loader.style.cursor="pointer";